package ListerProjects;
import java.util.Scanner;
class Third
{
    private String name;
    private String city;
    private String Phonenumber;
    private String pan;
    private int sal;
    private int ex;
    private int expense;
    private int age;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getCity() {
        return city;
    }

    public void setCity(String city) {
        this.city = city;
    }

    public String getPhonenumber() {
        return Phonenumber;
    }

    public void setPhonenumber(String phonenumber) {
        Phonenumber = phonenumber;
    }

    public String getPan() {
        return pan;
    }

    public void setPan(String pan) {
        this.pan = pan;
    }

    public int getSal() {
        return sal;
    }

    public void setSal(int sal) {
        this.sal = sal;
    }

    public int getEx() {
        return ex;
    }

    public void setEx(int ex) {
        this.ex = ex;
    }

    public int getExpense() {
        return expense;
    }

    public void setExpense(int expense) {
        this.expense = expense;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }
}
class Second {
    static int inHandSalary, OTP, loanAmount,EMI, eligibility, print = 0, tenure, doc, principal, rateInPercent = 12, selectMethod, totalInterestPayable;
    
    public void welcomePage() {
        System.out.println("Welcome to avail Personal Loan");
        System.out.println("-------------------------------");
        System.out.println("You can avail personal loan for ");
        System.out.println("1. Medical Emergency ");
        System.out.println("2. Debt Consolidation ");
        System.out.println("3. Higher Education");
        System.out.println("4. Home Renovation ");
        System.out.println("5. Used Cars ");
        System.out.println("6. Wedding ");
        System.out.println("7. Travel");
        System.out.println();
        System.out.println("The maximum loan amount is 200000 and the minimum loan amount is 100000");
    }


    public void eligibility(String name, String city, String phNumber, String pan, int age, int sal, int expense) {
        if (city.equalsIgnoreCase("india")) {
            int inHandSalary;
            System.out.println();

            if (age >= 23 && age <= 55) {
                inHandSalary = sal - expense;
                if (inHandSalary > 15000) {
                    if (inHandSalary >= 15000 && inHandSalary <= 30000) {
                        System.out.println("You are eligible to take loan upto 500000");
                    } else if (inHandSalary > 30000 && inHandSalary <= 60000) {
                        System.out.println("you are eligible to take loan upto 100000");
                    } else {
                        System.out.println("you are eligible to take loan upto 200000");
                    }
                    eligibility = 1;
                    System.out.println("Documents Required");
                    System.out.println("1. Salary Pay \n 2. Aadhaar card \n 3. Pan card \n 4. Photographs ");
                    System.out.println("Please press 1 if you have above documents else 2");
                    Scanner sc = new Scanner(System.in);
                    int doc = sc.nextInt();
                    if (doc == 1) {
                        System.out.println("Proceed Further");
                        Four obj = new Four();
                        obj.loanDetails();
                    } else {
                        System.out.println("document  needed");
                    }
                } else {
                    System.out.println("Your age should lie between 23 and 55 applying pesonal loan");
                }
            } else {
                System.out.println("Your In Hand Salary should be greater that 15000 for applying personal loan");
            }
        } else {
            System.out.println("you should reside in INDIA for applying personal loan");
        }
    }

}class Four extends Second {
    public void loanDetails() {
        if (eligibility == 1) {
            System.out.println("Enter the loan Amount");
            Scanner sc = new Scanner(System.in);
            loanAmount = sc.nextInt();
            System.out.println("Enter the tenure in months");
            tenure = sc.nextInt();
            principal = (rateInPercent / 100) * loanAmount;
            System.out.println(principal);
            System.out.println("Select the interest rate method you need ");
            System.out.println("1. Flat Rate Method");
            System.out.println("2. Reducing Balance Method");
            selectMethod = sc.nextInt();

            if (selectMethod == 1) {
                totalInterestPayable = (principal * tenure * rateInPercent) / 100;
                EMI = (principal + totalInterestPayable) / tenure;
                System.out.println(EMI);
                print = 1;


            } else if (selectMethod == 2) {

                EMI = (principal * rateInPercent * (1 + rateInPercent) ^ tenure) / ((1 + rateInPercent) ^ (tenure - 1));
                System.out.println(EMI);
                print = 1;


            } else {
                System.out.println("Invalid option");
            }


        }

    }

    public void endMessage() {
        if (print == 1) {
            System.out.println("Your Loan will be Disbursed within 24 hours");
            System.out.println("Have a nice day");
        }
    }
}

public class First {
    public static void main(String[] args) throws Exception
    {
        Second obj = new Second();
        Third obj2 = new Third();
        Scanner sc = new Scanner(System.in);

        obj.welcomePage();

        System.out.println("Enter your Name");
        String name = sc.nextLine();
        obj2.setName(name);
        System.out.println("Enter your country");
        String city = sc.nextLine();
        obj2.setCity(city);

        System.out.println("Enter your Mobile number");
        String phNumber = sc.nextLine();


        //Regular expression to accept valid phone number
        String regex = "\\d{10}";
        //Matching the given phone number with regular expression
        boolean result = phNumber.matches(regex);
        if(result) {
            System.out.println("Given phone number is valid");
        } else {
            System.out.println("Given phone number is not valid");
            System.exit(0);
        }
        obj2.setPhonenumber(phNumber);
        System.out.println("Enter your PAN Number");
        String pan = sc.nextLine();
        obj2.setPan(pan);
        System.out.println("Enter your Age");
        int age = sc.nextInt();
        sc.nextLine();
        obj2.setAge(age);
        System.out.println("Enter Monthly Salary");
        int sal = sc.nextInt();
        sc.nextLine();
        obj2.setSal(sal);
        System.out.println("Enter your expenses");
        int expense = sc.nextInt();
        sc.nextLine();
        obj2.setExpense(expense);
      //  obj.eligibility(name,city,phNumber,pan,age,sal,expense);
        obj.eligibility(obj2.getName(), obj2.getCity(), obj2.getPhonenumber(), obj2.getPan(), obj2.getAge(),obj2.getSal(), obj2.getExpense());
       Four obj3 = new Four();
        obj3.endMessage();
    }
}
